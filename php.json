{
    "redirect": {
        "prefix": "cake-redirect",
        "body": [
            "\\$this->redirect(array(",
            "    'plugin' => false,",
            "    'admin' => true,",
            "    'controller' => '',",
            "    'action' => ''",
            "));"
        ],
        "description": "Cake Redirect"
    },
    "link": {
        "prefix": "cake-link",
        "body": [
            "echo \\$this->Html->link('', array(",
            "    'plugin' => false,",
            "    'admin' => true,",
            "    'controller' => '',",
            "    'action' => ''",
            "));"
        ],
        "description": "Cake Link"
    },
    "linkclass": {
        "prefix": "cake-link-class",
        "body": [
            "echo \\$this->Html->link('', array(",
            "    'plugin' => false,",
            "    'admin' => true,",
            "    'controller' => '',",
            "    'action' => ''",
            "), array(",
            "    'class' => ''",
            "));"
        ],
        "description": "Cake Link"
    },
    "completelink": {
        "prefix": "cake-link-cp",
        "body": [
            "<?php",
            "echo \\$this->Html->link('', array(",
            "    'plugin' => false,",
            "    'admin' => true,",
            "    'controller' => '',",
            "    'action' => ''",
            "));",
            "?>"
        ],
        "description": "Cake Link With php tag"
    },
    "flashok": {
        "prefix": "cake-flash-ok",
        "body": [
            "\\$this->Session->setFlash(__('Settings updated successfully'), 'default', array('class' => 'success'));"
        ],
        "description": "Cake Success Flash"
    },
    "flasherror": {
        "prefix": "cake-flash-error",
        "body": [
            "\\$this->Session->setFlash(__('Error, please try again!'), 'default', array('class' => 'error'));"
        ],
        "description": "Cake Success Flash"
    },
    "ajaxaction": {
        "prefix": "cake-ajaxaction",
        "body": [
            "\\$this->autoRender = false;",
            "if (\\$this->request->is('ajax')) {",
            "\t\\$q = \\$this->request->query;",
            "",
            "\t\\$this->loadModel('Model');",
            "\t\\$this->Model->create();",
            "\t\\$this->request->data['Model']['name'] = \\$q['view_param'];",
            "\t\\$lastid = '';",
            "",
            "\tif (\\$this->Model->save(\\$this->request->data)) {",
            "\t\t\\$lastid = \\$this->Model->id;",
            "\t}",
            "",
            "\treturn json_encode(array(",
            "\t\t'id' => \\$lastid,",
            "\t));",
            "}"
        ],
        "description": "Cake Success Flash"
    },
    "before": {
        "prefix": "cake-before",
        "body": [
            "public function beforeFilter()",
            "{",
            "    parent::beforeFilter();",
            "    \\$this->set('title_for_layout', __(''));",
            "    //\\$this->Auth->allow('action',);",
            "}"
        ],
        "description": "Cake Before Action"
    },
    "require": {
        "prefix": "cake-require",
        "body": [
            "// \\$allSettings = var inside settings.php",
            "require(APP . 'Config' . DS . 'settings.php');",
            "foreach (\\$allSettings as $set) {",
            "    debug(\\$set);",
            "}"
        ],
        "description": "Cake require"
    },
    "components": {
        "prefix": "cake-components",
        "body": [
            "public \\$components = array(",
            "    'Highcharts.Highcharts',",
            ");"
        ],
        "description": "Cake Components"
    },
    "highcharts": {
        "prefix": "cake-highcharts",
        "body": [
            "App::uses('HighchartsAppController', 'Highcharts.Controller');",
            "\\$this->Highcharts = \\$this->Components->load('Highcharts.Highcharts');",
            "\\$this->Highcharts->initialize(\\$this);"
        ],
        "description": "Cake Highcharts"
    },
    "cakethrow": {
        "prefix": "cake-throw",
        "body": [
            "\\$this->Model->id = \\$id;",
            "if (!\\$this->Model->exists()) {",
            "    throw new NotFoundException(sprintf(__('Invalid %s'), __('')));",
            "}"
        ],
        "description": "Cake Throw"
    },
    "modelusetable": {
        "prefix": "cake-model-usetable",
        "body": [
            "public \\$useTable = '';"
        ],
        "description": "Cake Use Table"
    },
    "saveorupdate": {
        "prefix": "cake-save-or-update",
        "body": [
            "if (\\$object != null) {",
            "    \\$this->MODEL->id = \\$object['MODEL']['id'];",
            "    \\$this->MODEL->saveField('created', date('YYYY-mm-dd HH:ii:ss'));",
            "} else {",
            "    \\$this->MODEL->create();",
            "    \\$this->MODEL->save(array(",
            "        'created' => date('YYYY-mm-dd HH:ii:ss'),",
            "    ));",
            "}",
            "",
            "\\$this->MODEL->read(false, \\$this->MODEL->id)"
        ],
        "description": "Cake Save Or Update"
    },
    "modelvalidate": {
        "prefix": "cake-model-validate",
        "body": [
            "\\$this->MODEL->id = \\$id;",
            "if (!\\$this->MODEL->exists()) {",
            "    throw new NotFoundException(sprintf(__('Invalid %s'), __('MODEL')));",
            "}"
        ],
        "description": "Verifica se o objeto existe no banco de dados"
    },
    "layout": {
        "prefix": "cake-layout",
        "body": [
            "// see the folder app/View/Layouts",
            "// admin_generic, admin_generic_light, admin_generic_fluid, admin_generic_no_scroll",
            "\\$this->layout = 'admin_generic';"
        ],
        "description": "Tipos de layouts contendo menus laterais específicos"
    },
    "newcontroller": {
        "prefix": "cake-controller",
        "body": [
            "",
            "App::uses('AppController', 'Controller');",
            "class MODELController extends AppController",
            "{",
            "    public function beforeFilter()",
            "    {",
            "       parent::beforeFilter();",
            "    }",
            "",
            "    public function admin_index()",
            "    {",
            "        \\$this->layout = 'admin_add';",
            "        \\$this->MODEL->recursive = 0;",
            "        \\$this->FilterResults->addFilters(array(",
            "                'filter_name' => array(",
            "                    'MODEL.name' => array(",
            "                        'operator' => 'like',",
            "                    )",
            "                ),",
            "            ));",
            "",
            "        \\$conditions = array();",
            "        if (\\$this->FilterResults->getConditions()) {",
            "            \\$conditions = array_merge(\\$this->FilterResults->getConditions(), \\$conditions);",
            "        }",
            "",
            "        \\$this->FilterResults->setPaginate('order', array(",
            "            'MODEL.name' => 'ASC',",
            "        ));",
            "        \\$this->FilterResults->setPaginate('conditions', \\$conditions);",
            "        \\$this->FilterResults->setPaginate('limit', 10);",
            "        \\$this->set('MODEL', \\$this->paginate());",
            "    }",
            "}"
        ],
        "description": "Cake Use Table"
    },
    "filter_list": {
        "prefix": "cake-filter-find",
        "body": [
            "'filter_FIELD' => array(",
            "    'MODEL.FIELD' => array(",
            "        'operator' => '=',",
            "        'select' => \\$this->FilterResults->select('',",
            "            \\$this->MODEL->find('list', array(",
            "                'fields' => array(",
            "                    'MODEL.id',",
            "                    'MODEL.name'",
            "                ),",
            "                'group' => 'MODEL.name')))",
            "     )",
            "),"
        ],
        "description": "Filter type Find"
    },
    "filter_select": {
        "prefix": "cake-filter-select",
        "body": [
            "'filter_FIELD' => array(",
            "    'MODEL.FIELD' => array(",
            "        'operator' => '=',",
            "        'select' => \\$this->FilterResults->select('FIELD', array(",
            "            0 => 'OP1',",
            "            1 => 'OP2',",
            "            3 => 'OP3',",
            "        ))",
            "    )",
            "),"
        ],
        "description": "Filter type select"
    },
    "filter_array": {
        "prefix": "cake-filter-array",
        "body": [
            "'filter_FIELD' => array(",
            "    'MODEL.FIELD' => array(",
            "        'select' => array(",
            "            '' => 'Qualquer MODEL',",
            "            'op1' => 'Op1',",
            "            'op2' => 'Op2',",
            "            'op3' => 'Op3',",
            "        ),",
            "        'operator' => 'like'",
            "    )",
            "),"
        ],
        "description": "Filter type array"
    },
    "filter_between": {
        "prefix": "cake-filter-between",
        "body": [
            "'filter_from' => array(",
            "    'MODEL.FIELD' => array(",
            "        'operator' => '>='",
            "    )",
            "),",
            "'filter_to' => array(",
            "    'MODEL.FIELD' => array(",
            "        'operator' => '<='",
            "    )",
            "),"
        ],
        "description": "Filter type array"
    },
    "return_json": {
        "prefix": "cake-json-return",
        "body": [
            "\\$this->autoRender = false;",
            "\\$MODEL = \\$this->MODEL->read(null, \\$id);",
            "return json_encode(\\$MODEL);"
        ],
        "description": "Return Json Page"
    },
    "titleForLayout": {
        "prefix": "cake-title-for-layout",
        "body": [
            "\\$this->set('title_for_layout', __(''));"
        ],
        "description": "Return Title for Layout"
    },
    "saveField": {
        "prefix": "cake-save-field",
        "body": [
            "\\$this->MODEL->id = \\$id;",
            "if (!\\$this->MODEL->exists()) {",
            "    throw new NotFoundException(__('Invalid MODEL'));",
            "}",
            "// OR",
            "\\$this->MODEL->id = \\$id;",
            "\\$this->MODEL->saveField('FIELD', 'VALUE');"
        ],
        "description": "Cake Set, save field"
    },
    "cakeDate": {
        "prefix": "cake-date-format",
        "body": [
            "\\$dt = '2025-05-05 11:11:00';",
            "\\$date = date_create(\\$dt);",
            "debug(date_format(\\$date, \"Y/m/d H:i:s\"));",
            "debug(date('Y-m-d H:i:s'));",
            "debug(date(\\$date, \"Y-m-d H:i:s\"));"
        ],
        "description": "Cake date format"
    },
    "cakeJoinFilterResult": {
        "prefix": "cake-join-filter-results",
        "body": [
            "\\$this->FilterResults->setPaginate('joins', array(",
            "    array(",
            "        'alias' => 'ChassiContact',",
            "        'table' => 'chassi_contacts',",
            "        'type' => 'LEFT',",
            "        'conditions' => '\"TabTreeTrack\".\"cid\" = \"ChassiContact\".\"cid\"'",
            "    ),",
            "    array(",
            "        'alias' => 'User',",
            "        'table' => 'users',",
            "        'type' => 'LEFT',",
            "        'conditions' => '\"ChassiContact\".\"user_id\" = \"User\".\"id\"'",
            "    )",
            "));",
            "\\$this->FilterResults->setPaginate('fields', array(",
            "    \"TabTreeTrack.id\",",
            "    \"TabTreeTrack.cid\",",
            "    \"ChassiContact.media\",",
            "    \"ChassiContact.channel\",",
            "    \"User.name\",",
            "    \"User.extension\",",
            "));"
        ],
        "description": "Cake Join Filter Results"
    },
    "cakeConditionOrAnd": {
        "prefix": "cake-condition-or-and",
        "body": [
            "",
            "'conditions' => array(",
            "    'OR' => array(",
            "        array( // or (user_id and user_to_id)",
            "            'Chat.user_id' => $this->Auth->user('id'),",
            "            'Chat.user_to_id' => $userToId,",
            "        ),",
            "        array( // or (user_id and user_to_id)",
            "            'Chat.user_id' => $userToId,",
            "            'Chat.user_to_id' => $this->Auth->user('id'),",
            "        )",
            "    )",
            "),"
        ],
        "description": "Cake condition Or & And in the same query"
    },
    "cakeDelete": {
        "prefix": "cake-delete-field",
        "body": [
            "// delete(integer \\$id = null, boolean \\$cascade = true)",
            "\\$this->Model->delete(\\$model_id);",
            "// deleteAll(mixed \\$conditions, \\$cascade = true, \\$callbacks = false)",
            "\\$this->Model->deleteAll(array(\"Model.id > 0\"), true);"
        ],
        "description": "Cake Delete Template"
    },
    "LayoutConfigurationsImport": {
        "prefix": "cake-layout-configurations-import",
        "body": [
            "// see the folder app/Config/dnk_submenu > attribute highlights",
            "// agent-panel, internal_chat, supervisor-dashboard, agent_dashboard, ",
            "// reports, data-register, queues, settings",
            "\\$this->set('highlight', '');",
            "",
            "// see the folder app/View/Elements/left_menu/",
            "// data_register, empty, history, reports, settings, supervisor_dashboard,",
            "// queues, agent_dashboard",
            "\\$this->set('left_menu', '');",
            "",
            "// see the folder app/View/Layouts",
            "// admin_generic, admin_generic_light, admin_generic_fluid, admin_generic_no_scroll",
            "\\$this->layout = 'admin_generic';"
        ],
        "description": "Cake Update Template"
    },
    "cakeBaseUrl": {
        "prefix": "cake-base-url",
        "body": [
            "Router::url('/', false);",
            "Router::url(array('controller'=>'users','action'=>'index'), false);"
        ],
        "description": "Cake Base Url"
    },
    "cakeFormInputArray": {
        "prefix": "cake-input-array",
        "body": [
            "<?php",
            "    $index = 0;",
            "    foreach ($salmos as $sl) :",
            "?>",
            "    <?= $this->Form->input(\"Music.{$index}.id\"); ?>",
            "    <?= $this->Form->input(\"Music.{$index}.book_music_number\"); ?>",
            "<?php endforeach; ?>"
        ],
        "description": "Cake Form Input Array"
    },
    "cakeWhenToDate": {
        "prefix": [
            "cake-when-to-date",
            "cake-timestamp-convert-utc",
            "cake-utc-convert",
            "cake-timezone-convert"
        ],
        "body": [
            "// Option 1",
            "// 'UTC', 'America/Sao_Paulo', ...",
            "date_default_timezone_set('America/Sao_Paulo');",
            "\\$whenJs = 1678737927980;",
            "\\$whenPhp = 1678737927;",
            "\\$the_date = date('Y-m-d H:i:s', substr(\\$whenJs, 0, 10));",
            "\\$the_date = date('Y-m-d H:i:s', \\$whenPhp);",
            "",
            "// Option 2",
            "\\$value = '2023-04-13T11:52:42.366+0000';",
            "\\$date = new DateTime(\\$value, new DateTimeZone('UTC'));",
            "\\$date->setTimezone(new DateTimeZone('America/Sao_Paulo'));",
            "\\$theDate = date_format(\\$date, 'Y-m-d H:i:s');"
        ],
        "description": "Cake When (int) to Date"
    },
    "cakeImportPhpClass": {
        "prefix": [
            "cake-import-php-class",
            "cake-import-config"
        ],
        "body": [
            "// Processando o objeto",
            "require(APP . 'Config' . DS . 'FILE_NAME.php');",
            "foreach (\\$OBJECT_NAME as \\$item) {",
            "    debug(\\$item['KEY'])",
            "}",
            "",
            "// Enviando o objeto para view",
            "require(APP . 'Config' . DS . 'FILE_NAME.php');",
            "\\$this->set('urls', CLASS_NAME::read('OBJECT_NAME')); // or",
            "\\$this->set('urls', $OBJECT_NAME));"
        ],
        "description": "Cake Import PHP Class"
    },
    "cakeJoinModel": {
        "prefix": "cake-join-model",
        "body": [
            "// Join with string key",
            "public \\$hasOne = array(",
            "    'OtherModel' => array(",
            "        'className' => 'OtherModel',",
            "        'foreignKey' => false,",
            "        'conditions' => array('CurrentModel.cid = OtherModel.cid'),",
            "        'fields' => array(",
            "            'id',",
            "            'otherField',",
            "         )",
            "    )",
            ");",
            "// Custom Join ",
            "public \\$hasAndBelongsToMany = array(",
            "    'OtherModel' => array(",
            "        'className' => 'OtherModel',",
            "        'joinTable' => 'other_table',",
            "        'foreignKey' => 'field_id',",
            "        'associationForeignKey' => 'field_id',",
            "        'unique' => 'keepExisting',",
            "        'fields' => array(",
            "            'id',",
            "            'otherField',",
            "         )",
            "    )",
            ");"
        ],
        "description": "Cake Join Model Example"
    },
    "cakeHttpSocket": {
        "prefix": [
            "cake-http-socket-template"
        ],
        "body": [
            "App::uses('HttpSocket', 'Network/Http');",
            "\\$endpoint = \"{\\$this->emailApiHost}/api/email/message/{\\$emailKey}\";",
            "try {",
            "    \\$http = new HttpSocket();",
            "    \\$request = array(",
            "        'header' => array(",
            "            'Content-Type' => 'application/json',",
            "            //'x-access-token' => \\$login->token,",
            "        ),",
            "    );",
            "    \\$data = $http->get(\\$endpoint, \\$request);",
            "    \\$body = array(",
            "        'body' => \\$data->body,",
            "        'endpoint' => \\$endpoint,",
            "    );",
            "    return \\$body;",
            "} catch (Exception \\$ex) {",
            "    return json_encode(array());",
            "}"
        ],
        "description": "Cake HTTP Socket Template"
    },
    "phpJsonOutput": {
        "prefix": [
            "php-json-output",
            "cake-json-output",
            "html-json-output"
        ],
        "body": [
            "<?php",
            "\\$json = '{",
            "    \"nome\": \"João\",",
            "    \"idade\": 30",
            "}';",
            "header('Content-Type: application/json');",
            "echo \\$json;",
            "exit;",
            "?>"
        ],
        "description": "Cake HTTP Socket Template"
    },
    "crmShowSql": {
        "prefix": [
            "cake-show-sql",
            "cake-dump-sql",
            "cake-sql"
        ],
        "body": [
            "\\$this->showSql('CrmContact');"
        ],
        "description": "Cake Show SQL"
    },
    "sqlQuery": {
        "prefix": [
            "cake-query",
            "cake-query-update",
            "cake-query-param"
        ],
        "body": [
            "$this->User->query(",
            "        'select * from model where param like ?',",
            "        array('value%')",
            "    );",
            "$this->User->query(",
            "        'select * from model where param1 like :p1 and param2 like :p2',",
            "        array('p1' => 'value1%', 'p2' => 'value2%')",
            "    );"
        ],
        "description": "Cake Query Params"
    },
    "callelement": {
        "prefix": [
            "cake-element"
        ],
        "body": [
            "// Crie a chamada ao elemento na view desejada",
            "\\$this->element('sidemenu_whitelabel', array('highlight' => \\$highlight));",
            "",
            "// Dentro do elemento: portal/app/View/Elements/sidemenu_whitelabel.ctp",
            "// echo $highlight;"
        ],
        "description": "Cake Elements Pattern"
    },
    "cakeElement": {
        "prefix": [
            "cake-bootstrap4-cdn",
            "html-bootstrap4-cdn",
            "bootstrap4-cdn"
        ],
        "body": [
            "<!-- Latest compiled and minified CSS -->",
            "<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css\">",
            "<!-- jQuery library -->",
            "<script src=\"https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js\"></script>",
            "<!-- Popper JS -->",
            "<script src=\"https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js\"></script>",
            "<!-- Latest compiled JavaScript -->",
            "<script src=\"https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js\"></script>"
        ],
        "description": "Bootstrap 4 CDN"
    },
    "logs-function": {
        "prefix": "cake-logs-in-file",
        "body": [
            "\\$this->log('Message', 'file in app/tmp/logs');",
            "\\$this->log('chegou aqui', 'domni');"
        ],
        "description": "Log messages in a function"
    }
}