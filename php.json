{
    "redirect": {
        "prefix": "cake-redirect",
        "body": [
            "${1:<?}\\$this->redirect(array(",
            "\t'plugin' => false,",
            "\t'admin' => true,",
            "\t'controller' => '',",
            "\t'action' => ''",
            "));"
        ],
        "description": "Cake Redirect"
    },
    "link": {
        "prefix": "cake-link",
        "body": [
            "${1:<?}echo \\$this->Html->link('', array(",
            "\t'plugin' => false,",
            "\t'admin' => true,",
            "\t'controller' => '',",
            "\t'action' => ''",
            "));"
        ],
        "description": "Cake Link"
    },
    "linkclass": {
        "prefix": "cake-link-class",
        "body": [
            "${1:<?}echo \\$this->Html->link('', array(",
            "\t'plugin' => false,",
            "\t'admin' => true,",
            "\t'controller' => '',",
            "\t'action' => ''",
            "), array(",
            "\t'class' => ''",
            "));"
        ],
        "description": "Cake Link"
    },
    "completelink": {
        "prefix": "cake-link-cp",
        "body": [
            "${1:<?}echo \\$this->Html->link('', array(",
            "\t'plugin' => false,",
            "\t'admin' => true,",
            "\t'controller' => '',",
            "\t'action' => ''",
            "));",
            "?>"
        ],
        "description": "Cake Link With php tag"
    },
    "flashok": {
        "prefix": "cake-flash-ok",
        "body": [
            "${1:<?}\\$this->Session->setFlash(__('Settings updated successfully'), 'default', array('class' => 'success'));"
        ],
        "description": "Cake Success Flash"
    },
    "flasherror": {
        "prefix": "cake-flash-error",
        "body": [
            "${1:<?}\\$this->Session->setFlash(__('Error, please try again!'), 'default', array('class' => 'error'));"
        ],
        "description": "Cake Success Flash"
    },
    "ajaxaction": {
        "prefix": "cake-ajaxaction",
        "body": [
            "${1:<?}\\$this->autoRender = false;",
            "if (\\$this->request->is('ajax')) {",
            "\t\\$q = \\$this->request->query;",
            "",
            "\t\\$this->loadModel('Model');",
            "\t\\$this->Model->create();",
            "\t\\$this->request->data['Model']['name'] = \\$q['view_param'];",
            "\t\\$lastid = '';",
            "",
            "\tif (\\$this->Model->save(\\$this->request->data)) {",
            "\t\t\\$lastid = \\$this->Model->id;",
            "\t}",
            "",
            "\treturn json_encode(array(",
            "\t\t'id' => \\$lastid,",
            "\t));",
            "}"
        ],
        "description": "Cake Success Flash"
    },
    "before": {
        "prefix": "cake-before",
        "body": [
            "${1:<?}public function beforeFilter()",
            "{",
            "\tparent::beforeFilter();",
            "\t\\$this->set('title_for_layout', __(''));",
            "\t//\\$this->Auth->allow('action',);",
            "}"
        ],
        "description": "Cake Before Action"
    },
    "require": {
        "prefix": "cake-require",
        "body": [
            "${1:<?}// \\$allSettings = var inside settings.php",
            "require(APP . 'Config' . DS . 'settings.php');",
            "foreach (\\$allSettings as $set) {",
            "\tdebug(\\$set);",
            "}"
        ],
        "description": "Cake require"
    },
    "components": {
        "prefix": "cake-components",
        "body": [
            "${1:<?}public \\$components = array(",
            "\t'Highcharts.Highcharts',",
            ");"
        ],
        "description": "Cake Components"
    },
    "highcharts": {
        "prefix": "cake-highcharts",
        "body": [
            "${1:<?}App::uses('HighchartsAppController', 'Highcharts.Controller');",
            "\\$this->Highcharts = \\$this->Components->load('Highcharts.Highcharts');",
            "\\$this->Highcharts->initialize(\\$this);"
        ],
        "description": "Cake Highcharts"
    },
    "cakethrow": {
        "prefix": "cake-throw",
        "body": [
            "${1:<?}\\$this->Model->id = \\$id;",
            "if (!\\$this->Model->exists()) {",
            "\tthrow new NotFoundException(sprintf(__('Invalid %s'), __('')));",
            "}"
        ],
        "description": "Cake Throw"
    },
    "modelusetable": {
        "prefix": "cake-model-usetable",
        "body": [
            "${1:<?}public \\$useTable = '';"
        ],
        "description": "Cake Use Table"
    },
    "saveorupdate": {
        "prefix": "cake-save-or-update",
        "body": [
            "${1:<?}if (\\$object != null) {",
            "\t\\$this->MODEL->id = \\$object['MODEL']['id'];",
            "\t\\$this->MODEL->saveField('created', date('YYYY-mm-dd HH:ii:ss'));",
            "} else {",
            "\t\\$this->MODEL->create();",
            "\t\\$this->MODEL->save(array(",
            "\t\t'created' => date('YYYY-mm-dd HH:ii:ss'),",
            "\t));",
            "}",
            "",
            "\\$this->MODEL->read(false, \\$this->MODEL->id)"
        ],
        "description": "Cake Save Or Update"
    },
    "modelvalidate": {
        "prefix": "cake-model-validate",
        "body": [
            "${1:<?}\\$this->MODEL->id = \\$id;",
            "if (!\\$this->MODEL->exists()) {",
            "\tthrow new NotFoundException(sprintf(__('Invalid %s'), __('MODEL')));",
            "}"
        ],
        "description": "Verifica se o objeto existe no banco de dados"
    },
    "layout": {
        "prefix": "cake-layout",
        "body": [
            "${1:<?}// see the folder app/View/Layouts",
            "// admin_generic, admin_generic_light, admin_generic_fluid, admin_generic_no_scroll",
            "\\$this->layout = 'admin_generic';"
        ],
        "description": "Tipos de layouts contendo menus laterais específicos"
    },
    "newcontroller": {
        "prefix": "cake-controller",
        "body": [
            "${1:<?}App::uses('AppController', 'Controller');",
            "class MODELController extends AppController",
            "{",
            "\tpublic function beforeFilter()",
            "\t{",
            "\t   parent::beforeFilter();",
            "\t}",
            "",
            "\tpublic function admin_index()",
            "\t{",
            "\t\t\\$this->layout = 'admin_add';",
            "\t\t\\$this->MODEL->recursive = 0;",
            "\t\t\\$this->FilterResults->addFilters(array(",
            "\t\t\t\t'filter_name' => array(",
            "\t\t\t\t\t'MODEL.name' => array(",
            "\t\t\t\t\t\t'operator' => 'like',",
            "\t\t\t\t\t)",
            "\t\t\t\t),",
            "\t\t\t));",
            "",
            "\t\t\\$conditions = array();",
            "\t\tif (\\$this->FilterResults->getConditions()) {",
            "\t\t\t\\$conditions = array_merge(\\$this->FilterResults->getConditions(), \\$conditions);",
            "\t\t}",
            "",
            "\t\t\\$this->FilterResults->setPaginate('order', array(",
            "\t\t\t'MODEL.name' => 'ASC',",
            "\t\t));",
            "\t\t\\$this->FilterResults->setPaginate('conditions', \\$conditions);",
            "\t\t\\$this->FilterResults->setPaginate('limit', 10);",
            "\t\t\\$this->set('MODEL', \\$this->paginate());",
            "\t}",
            "}"
        ],
        "description": "Cake Use Table"
    },
    "filter_list": {
        "prefix": "cake-filter-find",
        "body": [
            "${1:<?}'filter_FIELD' => array(",
            "\t'MODEL.FIELD' => array(",
            "\t\t'operator' => '=',",
            "\t\t'select' => \\$this->FilterResults->select('',",
            "\t\t\t\\$this->MODEL->find('list', array(",
            "\t\t\t\t'fields' => array(",
            "\t\t\t\t\t'MODEL.id',",
            "\t\t\t\t\t'MODEL.name'",
            "\t\t\t\t),",
            "\t\t\t\t'group' => 'MODEL.name')))",
            "\t )",
            "),"
        ],
        "description": "Filter type Find"
    },
    "filter_select": {
        "prefix": "cake-filter-select",
        "body": [
            "${1:<?}'filter_FIELD' => array(",
            "\t'MODEL.FIELD' => array(",
            "\t\t'operator' => '=',",
            "\t\t'select' => \\$this->FilterResults->select('FIELD', array(",
            "\t\t\t0 => 'OP1',",
            "\t\t\t1 => 'OP2',",
            "\t\t\t3 => 'OP3',",
            "\t\t))",
            "\t)",
            "),"
        ],
        "description": "Filter type select"
    },
    "filter_array": {
        "prefix": "cake-filter-array",
        "body": [
            "${1:<?}'filter_FIELD' => array(",
            "\t'MODEL.FIELD' => array(",
            "\t\t'select' => array(",
            "\t\t\t'' => 'Qualquer MODEL',",
            "\t\t\t'op1' => 'Op1',",
            "\t\t\t'op2' => 'Op2',",
            "\t\t\t'op3' => 'Op3',",
            "\t\t),",
            "\t\t'operator' => 'like'",
            "\t)",
            "),"
        ],
        "description": "Filter type array"
    },
    "filter_between": {
        "prefix": "cake-filter-between",
        "body": [
            "${1:<?}'filter_from' => array(",
            "\t'MODEL.FIELD' => array(",
            "\t\t'operator' => '>='",
            "\t)",
            "),",
            "'filter_to' => array(",
            "\t'MODEL.FIELD' => array(",
            "\t\t'operator' => '<='",
            "\t)",
            "),"
        ],
        "description": "Filter type array"
    },
    "return_json": {
        "prefix": "cake-json-return",
        "body": [
            "${1:<?}\\$this->autoRender = false;",
            "\\$MODEL = \\$this->MODEL->read(null, \\$id);",
            "return json_encode(\\$MODEL);"
        ],
        "description": "Return Json Page"
    },
    "titleForLayout": {
        "prefix": "cake-title-for-layout",
        "body": [
            "${1:<?}\\$this->set('title_for_layout', __(''));"
        ],
        "description": "Return Title for Layout"
    },
    "saveField": {
        "prefix": "cake-save-field",
        "body": [
            "${1:<?}\\$this->MODEL->id = \\$id;",
            "if (!\\$this->MODEL->exists()) {",
            "\tthrow new NotFoundException(__('Invalid MODEL'));",
            "}",
            "// OR",
            "\\$this->MODEL->id = \\$id;",
            "\\$this->MODEL->saveField('FIELD', 'VALUE');"
        ],
        "description": "Cake Set, save field"
    },
    "time-component": {
        "prefix": [
            "cake-date-format",
            "cake-datetime-format",
            "cake-time-component",
            "cake-datetim-examples"
        ],
        "body": [
            "${1:<?}\\$dt = '2025-05-05 11:11:00';",
            "\\$date = date_create(\\$dt);",
            "debug(\\$date->format(\"Y-m-d H:i:s\"));",
            "debug(date_format(\\$date, \"Y/m/d H:i:s\"));",
            "debug(date('Y-m-d H:i:s'));",
            "debug(gmdate('Y-m-d H:i:s')); // UTC"
        ],
        "description": "Perform time-related operations using CakePHP's Time component"
    },
    "cakeJoinFilterResult": {
        "prefix": "cake-join-filter-results",
        "body": [
            "${1:<?}\\$this->FilterResults->setPaginate('joins', array(",
            "\tarray(",
            "\t\t'alias' => 'ChassiContact',",
            "\t\t'table' => 'chassi_contacts',",
            "\t\t'type' => 'LEFT',",
            "\t\t'conditions' => '\"TabTreeTrack\".\"cid\" = \"ChassiContact\".\"cid\"'",
            "\t),",
            "\tarray(",
            "\t\t'alias' => 'User',",
            "\t\t'table' => 'users',",
            "\t\t'type' => 'LEFT',",
            "\t\t'conditions' => '\"ChassiContact\".\"user_id\" = \"User\".\"id\"'",
            "\t)",
            "));",
            "\\$this->FilterResults->setPaginate('fields', array(",
            "\t\"TabTreeTrack.id\",",
            "\t\"TabTreeTrack.cid\",",
            "\t\"ChassiContact.media\",",
            "\t\"ChassiContact.channel\",",
            "\t\"User.name\",",
            "\t\"User.extension\",",
            "));"
        ],
        "description": "Cake Join Filter Results"
    },
    "cakeConditionOrAnd": {
        "prefix": "cake-condition-or-and",
        "body": [
            "${1:<?}'conditions' => array(",
            "\t'OR' => array(",
            "\t\tarray( // or (user_id and user_to_id)",
            "\t\t\t'Chat.user_id' => $this->Auth->user('id'),",
            "\t\t\t'Chat.user_to_id' => $userToId,",
            "\t\t),",
            "\t\tarray( // or (user_id and user_to_id)",
            "\t\t\t'Chat.user_id' => $userToId,",
            "\t\t\t'Chat.user_to_id' => $this->Auth->user('id'),",
            "\t\t)",
            "\t)",
            "),"
        ],
        "description": "Cake condition Or & And in the same query"
    },
    "cakeDelete": {
        "prefix": "cake-delete-field",
        "body": [
            "${1:<?}// delete(integer \\$id = null, boolean \\$cascade = true)",
            "\\$this->Model->delete(\\$model_id);",
            "// deleteAll(mixed \\$conditions, \\$cascade = true, \\$callbacks = false)",
            "\\$this->Model->deleteAll(array(\"Model.id > 0\"), true);"
        ],
        "description": "Cake Delete Template"
    },
    "LayoutConfigurationsImport": {
        "prefix": "cake-layout-configurations-import",
        "body": [
            "${1:<?}\\$this->set('title_for_layout', __(''));",
            "",
            "// see the folder app/Config/dnk_submenu > attribute highlights",
            "// agent, supervisor, monit, report, add, utility, settings",
            "\\$this->set('highlight', '');",
            "",
            "// see the folder app/View/Elements/left_menu/",
            "// agent_dashboard, data_register, empty, reports, settings, supervisor_dashboard, utility",
            "\\$this->set('left_menu', '');",
            "",
            "// see the folder app/View/Layouts",
            "// admin_generic, admin_generic_light, admin_generic_fluid, admin_generic_no_scroll",
            "\\$this->layout = 'admin_generic';"
        ],
        "description": "Cake Update Template"
    },
    "cakeBaseUrl": {
        "prefix": "cake-base-url",
        "body": [
            "${1:<?}Router::url('/', false);",
            "Router::url(array('controller'=>'users','action'=>'index'), false);"
        ],
        "description": "Cake Base Url"
    },
    "cakeFormInputArray": {
        "prefix": "cake-input-array",
        "body": [
            "${1:<?}\t$index = 0;",
            "\tforeach ($salmos as $sl) :",
            "?>",
            "\t<?= $this->Form->input(\"Music.{$index}.id\"); ?>",
            "\t<?= $this->Form->input(\"Music.{$index}.book_music_number\"); ?>",
            "<?php endforeach; ?>"
        ],
        "description": "Cake Form Input Array"
    },
    "cakeWhenToDate": {
        "prefix": [
            "cake-when-to-date",
            "cake-timestamp-convert-utc",
            "cake-utc-convert",
            "cake-timezone-convert"
        ],
        "body": [
            "${1:<?}// Option 1",
            "// 'UTC', 'America/Sao_Paulo', ...",
            "date_default_timezone_set('America/Sao_Paulo');",
            "\\$whenJs = 1678737927980;",
            "\\$whenPhp = 1678737927;",
            "\\$the_date = date('Y-m-d H:i:s', substr(\\$whenJs, 0, 10));",
            "\\$the_date = date('Y-m-d H:i:s', \\$whenPhp);",
            "",
            "// Option 2",
            "\\$value = '2023-04-13T11:52:42.366+0000';",
            "\\$date = new DateTime(\\$value, new DateTimeZone('UTC'));",
            "\\$date->setTimezone(new DateTimeZone('America/Sao_Paulo'));",
            "\\$theDate = date_format(\\$date, 'Y-m-d H:i:s');",
            "",
            "// Option 3 - now (UTC)",
            "\\$currentDateTime = new DateTime('now', new DateTimeZone('UTC'));",
            "\\$utcDateTimeString = $currentDateTime->format('Y-m-d H:i:s');"
        ],
        "description": "Cake When (int) to Date"
    },
    "cakeNowUtc": {
        "prefix": [
            "cake-utc-now",
            "cake-now-utc"
        ],
        "body": [
            "${1:<?}",
            "// now (UTC)",
            "\\$currentDateTime = new DateTime('now', new DateTimeZone('UTC'));",
            "\\$utcDateTimeString = \\$currentDateTime->format('Y-m-d H:i:s');"
        ],
        "description": "Cake now UTC"
    },
    "cakeImportPhpClass": {
        "prefix": [
            "cake-import-php-class",
            "cake-import-config"
        ],
        "body": [
            "${1:<?}// Processando o objeto",
            "require(APP . 'Config' . DS . 'FILE_NAME.php');",
            "foreach (\\$OBJECT_NAME as \\$item) {",
            "\tdebug(\\$item['KEY'])",
            "}",
            "",
            "// Enviando o objeto para view",
            "require(APP . 'Config' . DS . 'FILE_NAME.php');",
            "\\$this->set('urls', CLASS_NAME::read('OBJECT_NAME')); // or",
            "\\$this->set('urls', $OBJECT_NAME));"
        ],
        "description": "Cake Import PHP Class"
    },
    "cakeJoinModel": {
        "prefix": "cake-join-model",
        "body": [
            "${1:<?}// Join with string key",
            "public \\$hasOne = array(",
            "\t'OtherModel' => array(",
            "\t\t'className' => 'OtherModel',",
            "\t\t'foreignKey' => false,",
            "\t\t'conditions' => array('CurrentModel.cid = OtherModel.cid'),",
            "\t\t'fields' => array(",
            "\t\t\t'id',",
            "\t\t\t'otherField',",
            "\t\t )",
            "\t)",
            ");",
            "// Custom Join ",
            "public \\$hasAndBelongsToMany = array(",
            "\t'OtherModel' => array(",
            "\t\t'className' => 'OtherModel',",
            "\t\t'joinTable' => 'other_table',",
            "\t\t'foreignKey' => 'field_id',",
            "\t\t'associationForeignKey' => 'field_id',",
            "\t\t'unique' => 'keepExisting',",
            "\t\t'fields' => array(",
            "\t\t\t'id',",
            "\t\t\t'otherField',",
            "\t\t )",
            "\t)",
            ");"
        ],
        "description": "Cake Join Model Example"
    },
    "cakeHttpSocket": {
        "prefix": [
            "cake-http-socket-template"
        ],
        "body": [
            "${1:<?}App::uses('HttpSocket', 'Network/Http');",
            "\\$endpoint = \"{\\$this->emailApiHost}/api/email/message/{\\$emailKey}\";",
            "try {",
            "\t\\$http = new HttpSocket();",
            "\t\\$request = array(",
            "\t\t'header' => array(",
            "\t\t\t'Content-Type' => 'application/json',",
            "\t\t\t//'x-access-token' => \\$login->token,",
            "\t\t),",
            "\t);",
            "\t\\$data = $http->get(\\$endpoint, \\$request);",
            "\t\\$body = array(",
            "\t\t'body' => \\$data->body,",
            "\t\t'endpoint' => \\$endpoint,",
            "\t);",
            "\treturn \\$body;",
            "} catch (Exception \\$ex) {",
            "\treturn json_encode(array());",
            "}"
        ],
        "description": "Cake HTTP Socket Template"
    },
    "phpJsonOutput": {
        "prefix": [
            "php-json-output",
            "cake-json-output",
            "html-json-output"
        ],
        "body": [
            "${1:<?}\\$json = '{",
            "\t\"nome\": \"João\",",
            "\t\"idade\": 30",
            "}';",
            "header('Content-Type: application/json');",
            "echo \\$json;",
            "exit;",
            "?>"
        ],
        "description": "Cake HTTP Socket Template"
    },
    "crmShowSql": {
        "prefix": [
            "cake-show-sql",
            "cake-dump-sql",
            "cake-sql"
        ],
        "body": [
            "${1:<?}\\$this->showSql('CrmContact');"
        ],
        "description": "Cake Show SQL"
    },
    "sqlQuery": {
        "prefix": [
            "cake-query",
            "cake-query-update",
            "cake-query-param"
        ],
        "body": [
            "${1:<?}\\$this->User->query(",
            "\t\t'select * from model where param like ?',",
            "\t\tarray('value%')",
            "\t);",
            "\\$this->User->query(",
            "\t\t'select * from model where param1 like :p1 and param2 like :p2',",
            "\t\tarray('p1' => 'value1%', 'p2' => 'value2%')",
            "\t);"
        ],
        "description": "Cake Query Params"
    },
    "callelement": {
        "prefix": [
            "cake-element"
        ],
        "body": [
            "${1:<?}// Crie a chamada ao elemento na view desejada",
            "\\$this->element('sidemenu_whitelabel', array('highlight' => \\$highlight));",
            "",
            "// Dentro do elemento: portal/app/View/Elements/sidemenu_whitelabel.ctp",
            "// echo $highlight;"
        ],
        "description": "Cake Elements Pattern"
    },
    "cakeElement": {
        "prefix": [
            "cake-bootstrap4-cdn",
            "html-bootstrap4-cdn",
            "bootstrap4-cdn"
        ],
        "body": [
            "${1:<?}<!-- Latest compiled and minified CSS -->",
            "<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css\">",
            "<!-- jQuery library -->",
            "<script src=\"https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js\"></script>",
            "<!-- Popper JS -->",
            "<script src=\"https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js\"></script>",
            "<!-- Latest compiled JavaScript -->",
            "<script src=\"https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js\"></script>"
        ],
        "description": "Bootstrap 4 CDN"
    },
    "logs-function": {
        "prefix": [
            "cake-logs-in-file",
            "cake-domni-log"
        ],
        "body": [
            "${1:<?}\\$this->log('$0', 'domni');"
        ],
        "description": "Log messages in a function"
    },
    "cake-my-model-update": {
        "prefix": "cake-update-model",
        "body": [
            "${1:<?}\\$myModelObj = \\$this->MyModel->find('first', array(",
            "\t'fields' => array(",
            "\t\t'id',",
            "\t),",
            "\t'conditions' => array(",
            "\t\t'MyModel.field' => 'value',",
            "));",
            "",
            "\\$status = 'success'",
            "if (\\$myModelObj != null) {",
            "\t\\$this->MyModel->id = \\$myModelObj['MyModel']['id'];",
            "\t\\$this->MyModel->saveField('field', 'value');",
            "} else {",
            "\t\\$status = 'Register not found';",
            "}",
            "",
            "\\$myModelFields = array(",
            "\t'field1' => 'value 1',",
            "\t'field2' => 'value 2 ',",
            "\t'field3' => 'value 3'",
            ");",
            "",
            "if (\\$myModelObj != null) {",
            "\t\\$this->MyModel->id = \\$myModelObj['MyModel']['id'];",
            "\t\\$this->MyModel->set(\\$myModelFields);",
            "",
            "\tif (\\$this->MyModel->save()) {",
            "\t\tdebug('Success');",
            "\t} else {",
            "\t\tdebug('Err');",
            "\t}",
            "}"
        ],
        "description": "Perform save operations on MyModel with conditional checks"
    },
    "cake-model-save": {
        "prefix": [
            "cake-save-model",
            "cake-create-model",
            "cake-insert-model",
            "cake-add-model"
        ],
        "body": [
            "${1:<?}\\$fields = array(",
            "\t'field1' => 'value 1',",
            "\t'field2' => 'value 2 ',",
            "\t'field3' => 'value 3'",
            ");",
            "",
            "\\$this->MyModel->set(\\$fields);",
            "",
            "if (\\$this->MyModel->save()) {",
            "\tdebug('Success');",
            "} else {",
            "\tdebug('Err');",
            "}"
        ],
        "description": "Perform save operations on MyModel with conditional checks"
    },
    "cake-model-update": {
        "prefix": [
            "cake-update-model"
        ],
        "body": [
            "${1:<?}\\$myModelObj = \\$this->MyModel->find('first', array(",
            "\t'conditions' => array(",
            "\t\t'MyModel.field' => 'value',",
            "\t),",
            "\t'order' => 'MyModel.id DESC',",
            "));",
            "",
            "if (\\$myModelObj != null) {",
            "",
            "\t\\$fields = array(",
            "\t\t'field1' => 'value 1',",
            "\t\t'field2' => 'value 2 ',",
            "\t\t'field3' => 'value 3'",
            "\t);",
            "",
            "\t\\$this->MyModel->id = \\$myModelObj['MyModel']['id'];",
            "\t\\$this->MyModel->set(\\$fields);",
            "",
            "\tif (\\$this->MyModel->save()) {",
            "\t\tdebug('Success');",
            "\t} else {",
            "\t\tdebug('Err');",
            "\t}",
            "}"
        ],
        "description": "Perform save operations on MyModel with conditional checks"
    },
    "helper-auth": {
        "prefix": "cake-helper-get-auth-user",
        "body": [
            "${1:<?}$uid = \\$this->Session->read('Auth.User.id');"
        ],
        "description": "Tipos de layouts contendo menus laterais específicos"
    },
    "model-inside-model": {
        "prefix": "cake-inserting-model-inside-model",
        "body": [
            "${1:<?}\\$Pausa = ClassRegistry::init('Pausa');",
            "return \\$Pausa->read(false, 1);"
        ],
        "description": "Carregando um model dentro de outro modelno CakePHP"
    },
    "php-switch-statement": {
        "prefix": [
            "cake-switch-case",
            "php-switch-case"
        ],
        "body": [
            "${1:<?}switch (\\$valor) {",
            "\tcase \\$valor1:",
            "\t\t// ",
            "\t\tbreak;",
            "\tdefault:",
            "\t\t// ",
            "\t\tbreak;",
            "}"
        ],
        "description": "Switch statement in PHP"
    },
    "load-model-inside-component": {
        "prefix": "cake-load-model-inside-component",
        "body": [
            "${1:<?}public function loadModel(\\$modelClass)",
            "{",
            "\t\\$this->{\\$modelClass} = ClassRegistry::init(\\$modelClass);",
            "}"
        ],
        "description": "Load a model dynamically in CakePHP"
    },
    "cake-initialize-component": {
        "prefix": [
            "cake-initialize-component",
            "cake-before-filter-inside-component"
        ],
        "body": [
            "${1:<?}// Started with the component",
            "public function initialize(Controller \\$controller)",
            "{",
            "\tparent::initialize(\\$controller);",
            "}"
        ],
        "description": "Initialize a component in CakePHP"
    },
    "updateAll": {
        "prefix": "cake-update-all",
        "body": [
            "${1:<?}\\$this->Model->updateAll(",
            "\tarray('field1' => 'value1', 'field2' => 'value2'),",
            "\tarray('conditions' => array())",
            ");"
        ],
        "description": "Update records in CakePHP"
    },
    "saveMany": {
        "prefix": "cake-update-with-save-many",
        "body": [
            "${1:<?}\\$data = array(",
            "\tarray('id' => 1, 'field1' => 'value1'),",
            "\tarray('id' => 2, 'field1' => 'value2'),",
            ");",
            "\\$this->Model->saveMany(\\$data);"
        ],
        "description": "Save multiple records in CakePHP"
    },
    "hasOne": {
        "prefix": [
            "cake-has-one",
            "cake-one-to-one"
        ],
        "body": [
            "${1:<?}public \\$hasOne = array(",
            "\t'ModelName' => array(",
            "\t\t'className' => 'ModelName', // Nome da classe do modelo que está sendo associado",
            "\t\t'foreignKey' => 'foreign_key', // Nome da coluna chave estrangeira na tabela do modelo associado",
            "\t\t'conditions' => array(), // Condições adicionais para a associação",
            "\t\t'fields' => array(), // Campos do modelo associado que serão retornados na consulta",
            "\t\t'order' => array(), // Ordenação dos resultados",
            "\t\t'dependent' => false // Opção de dependência, define o que acontece com o registro associado quando o registro principal é excluído",
            "\t),",
            ");"
        ],
        "description": "Defines a hasOne association"
    },
    "hasMany": {
        "prefix": [
            "cake-has-many",
            "cake-one-to-many"
        ],
        "body": [
            "${1:<?}public \\$hasMany = array(",
            "\t'ModelName' => array(",
            "\t\t'className' => 'ModelName', // Nome da classe do modelo que está sendo associado",
            "\t\t'foreignKey' => 'foreign_key', // Nome da coluna chave estrangeira na tabela do modelo associado",
            "\t\t'conditions' => array(), // Condições adicionais para a associação",
            "\t\t'fields' => array(), // Campos do modelo associado que serão retornados na consulta",
            "\t\t'order' => array(), // Ordenação dos resultados",
            "\t\t'dependent' => false // Opção de dependência, define o que acontece com os dados associados quando o registro principal é excluído",
            "\t),",
            ");"
        ],
        "description": "Defines hasMany associations"
    },
    "belongsTo": {
        "prefix": [
            "cake-belongs-to"
        ],
        "body": [
            "${1:<?}public \\$belongsTo = array(",
            "\t'ModelName' => array(",
            "\t\t'className' => 'ModelName', // Nome da classe do modelo que está sendo associado",
            "\t\t'foreignKey' => 'foreign_key', // Nome da coluna chave estrangeira na tabela do modelo atual que referencia a chave primária do modelo associado",
            "\t\t'conditions' => array(), // Condições adicionais para a associação",
            "\t\t'fields' => array(), // Campos do modelo associado que serão retornados na consulta",
            "\t\t'order' => array(), // Ordenação dos resultados",
            "\t),",
            ");"
        ],
        "description": "Defines a belongsTo association"
    },
    "hasAndBelongsToMany": {
        "prefix": [
            "cake-has-and-belongs-to-many",
            "cake-many-to-many"
        ],
        "body": [
            "${1:<?}public \\$hasAndBelongsToMany = array(",
            "\t'ModelName' => array(",
            "\t\t'className' => 'ModelName', // Nome da classe do modelo que está sendo associado",
            "\t\t'joinTable' => 'join_table', // Nome da tabela intermediária que associa os dois modelos",
            "\t\t'foreignKey' => 'foreign_key', // Nome da coluna chave estrangeira na tabela intermediária que referencia a chave primária do modelo atual",
            "\t\t'associationForeignKey' => 'association_foreign_key', // Nome da coluna chave estrangeira na tabela intermediária que referencia a chave primária do modelo associado",
            "\t\t'conditions' => array(), // Condições adicionais para a associação",
            "\t\t'fields' => array(), // Campos do modelo associado que serão retornados na consulta",
            "\t\t'order' => array(), // Ordenação dos resultados",
            "\t\t'limit' => null, // Número máximo de resultados retornados",
            "\t\t'offset' => null, // Número de resultados para pular antes de retornar os resultados",
            "\t), // Fim do array para a associação com ModelName",
            "); // Fim do array \\$hasAndBelongsToMany"
        ],
        "description": "Defines hasAndBelongsToMany associations"
    },
    "validate": {
        "prefix": [
            "cake-validates"
        ],
        "body": [
            "${1:<?}/**",
            " * Validates",
            " */",
            "public \\$validate = array(",
            "\t'username' => array(",
            "\t\t'isUnique' => array(",
            "\t\t\t'rule' => 'isUnique',",
            "\t\t\t'message' => 'The username has already been taken.',",
            "\t\t\t'last' => true,",
            "\t\t),",
            "\t\t'notEmpty' => array(",
            "\t\t\t'rule' => 'notEmpty',",
            "\t\t\t'message' => 'This field cannot be left blank.',",
            "\t\t\t'last' => true,",
            "\t\t),",
            "\t\t'validAlias' => array(",
            "\t\t\t'rule' => 'validAlias',",
            "\t\t\t'message' => 'This field must be alphanumeric',",
            "\t\t\t'last' => true,",
            "\t\t),",
            "\t),",
            ");"
        ],
        "description": "Defines validation rules"
    },
    "filterResultsTemplate": {
        "prefix": [
            "cake-filter-results-template",
            "cake-template-filter-results"
        ],
        "body": [
            "${1:<?}\t\\$this->Pausa->recursive = 0;",
            "\t\\$this->FilterResults->addFilters(",
            "\t\tarray(",
            "\t\t\t'filter_label' => array(",
            "\t\t\t\t'Pausa.label' => array(",
            "\t\t\t\t\t'operator' => 'like',",
            "\t\t\t\t),",
            "\t\t\t),",
            "\t\t);",
            "",
            "\t\\$conditions = array();",
            "\tif (\\$this->FilterResults->getConditions()) {",
            "\t\t\\$conditions = array_merge(\\$this->FilterResults->getConditions(), \\$conditions);",
            "\t}",
            "",
            "\t\\$this->FilterResults->setPaginate('order', 'Pausa.label ASC');",
            "\t\\$this->FilterResults->setPaginate('conditions', \\$conditions);",
            "\t\\$this->FilterResults->setPaginate('limit', 10);",
            "\t\\$this->set('pausas', \\$this->paginate());"
        ],
        "description": "Defines the filter results() function"
    },
    "CakePHPFilterResults": {
        "prefix": [
            "cake-filter-results-jsonb",
            "cake-filter-results-join-jsonb"
        ],
        "body": [
            "${1:<?}// Set paginate fields for FilterResults",
            "\\$this->FilterResults->setPaginate('fields', array(",
            "\t'CoreContact.cid',",
            "\t'\"CoreSegment\".\"data\"->>'start' AS \"CoreSegment__start\"',",
            "));",
            "",
            "// Set paginate joins for FilterResults",
            "\\$this->FilterResults->setPaginate('joins', array(",
            "\tarray(",
            "\t\t'table' => 'core_segments',",
            "\t\t'alias' => 'CoreSegment',",
            "\t\t'type' => 'INNER',",
            "\t\t'conditions' => array(",
            "\t\t\t\"CoreContact.cid = CoreSegment.cid\"",
            "\t\t)",
            "\t)",
            "));",
            "",
            "// Output CoreContact cid",
            "<td><?= h(\\$contact['CoreContact']['cid']); ?></td>",
            "",
            "<td><?= h(\\$contact['CoreSegment']['start']); ?></td>"
        ],
        "description": "CakePHP FilterResults and Output Examples"
    },
    "CoreContactFindAll": {
        "prefix": [
            "cake-find-join-jsonb",
            "cake-find-join-jsonb-field"
        ],
        "body": [
            "${1:<?}\\$this->CoreContact->find('all', array(",
            "\t'recursive' => 0,",
            "\t'fields' => array(",
            "\t\t'CoreContact.cid',",
            "\t\t'\"CoreSegment\".\"data\"->>\\'start\\' AS \"CoreSegment__start\"',",
            "\t),",
            "\t'joins' => array(",
            "\t\tarray(",
            "\t\t\t'table' => 'core_segments',",
            "\t\t\t'alias' => 'CoreSegment',",
            "\t\t\t'type' => 'INNER',",
            "\t\t\t'conditions' => array(",
            "\t\t\t\t\"CoreContact.cid = CoreSegment.cid\"",
            "\t\t\t)",
            "\t\t)",
            "\t)",
            "));"
        ],
        "description": "CoreContact find all with joins and custom fields"
    },
    "cakeJsonbPattern": {
        "prefix": [
            "cake-jsonb-field-pattern",
            "cake-virtual-field-jsonb-pattern"
        ],
        "body": [
            "${1:<?}'fields' => array(",
            "\t'\"CoreSegment\".\"data\"->>\\'start\\' AS \"CoreSegment__start\"',",
            "),",
            "'conditions' => array(",
            "\t'\"CoreIssue\".\"data\"->>\\'expire\\' >= ?' => \\$now->format('Y-m-d H:i:s'),",
            "),"
        ],
        "description": "CoreContact find all with joins and custom fields"
    },
    "filterResultsJsonb": {
        "prefix": "cake-filter-results-jsonb",
        "body": [
            "${1:<?}'filter_status' => array(",
            "\t'\\\"CoreContact\\\".\\\"data\\\"->>\\'endReason\\'' => array(",
            "\t\t'select' => array(",
            "\t\t\t'' => '...',",
            "\t\t\t'abandoned' => 'Abandonado',",
            "\t\t\t'answered' => 'Atendido',",
            "\t\t\t'reject' => 'Rejeitado',",
            "\t\t\t'transferred' => 'Transferido',",
            "\t\t),",
            "\t\t'operator' => 'like'",
            "\t)",
            "),"
        ],
        "description": "Filter results options for jsonb data->>endReason"
    },
    "PaginatorSettings": {
        "prefix": "cake-paginator-settings",
        "body": [
            "${1:<?}\\$this->Paginator->settings = array(",
            "\t'limit' => 10, // Número de resultados por página",
            "\t'paramType' => 'querystring', // Define o tipo de parâmetro para as páginas",
            "\t'fields' => array(), // Campos que serão retornados pela query, se não definir, retornará todos",
            "\t'order' => array(), // Ordenação dos resultados, se necessário",
            "\t'joins' => array(), // Joins adicionais, se necessário",
            "\t'conditions' => array(), // Condições adicionais, se necessário",
            "\t'group' => '', // Agrupamento dos resultados, se necessário",
            "\t'limit' => 10, // Número de resultados por página",
            "\t'page' => 1, // Número da página inicial",
            "\t'recursive' => -1 // Define a recursividade do model, se necessário",
            ");"
        ],
        "description": "Paginator settings for setting up pagination options"
    },
    "GetSetFilterFormData": {
        "prefix": [
            "cake-get-set-filter-form-data"
        ],
        "body": [
            "${1:<?}// Set default Value",
            "\\$this->request->data['filters']['filter_from'] = date('d/m/Y 00:00');",
            "\\$this->request->data['filters']['filter_to'] = date('d/m/Y 23:59');",
            "",
            "// get value",
            "array(",
            "\t'start_time' => \\$this->Dates->ptBRToSql(\\$this->request->data['filters']['filter_from']),",
            "\t'end_time' => \\$this->Dates->ptBRToSql(\\$this->request->data['filters']['filter_to']),",
            ");",
            "",
            "// view",
            "<?= \\$this->Form->create('filters'); ?>",
            "<script type=\"text/javascript\">",
            "\t\\$(function() {",
            "\t\t\\$(\"#dt_from\").datetimepicker({",
            "\t\t\tformat: 'DD/MM/YYYY HH:mm'",
            "\t\t});",
            "\t});",
            "</script>",
            "<div class=\"col-sm-4\">",
            "\t<div class=\"form-group row\">",
            "\t\t<label for=\"staticStatus\" class=\"col-sm-4 col-form-label text-right\">Data Início *</label>",
            "\t\t<div class=\"col-sm-8\">",
            "\t\t\t<?= \\$this->Form->input('filter_from', array(",
            "\t\t\t\t'id' => 'dt_from',",
            "\t\t\t\t'class' => 'form-control form-control-sm',",
            "\t\t\t\t'label' => false,",
            "\t\t\t)); ?>",
            "\t\t</div>",
            "\t</div>",
            "</div>"
        ],
        "description": "Get and set filter form data"
    },
    "DatesToSql": {
        "prefix": "cake-dates-tosql",
        "body": [
            "${1:<?}",
            "'end_time' => \\$this->Dates->toSql(\\$this->request->data['filters']['filter_from'], 'd/m/Y H:i:s'),"
        ],
        "description": "Set 'start_time' with Dates->toSql"
    },
    "CSRFTokenExample": {
        "prefix": [
            "js-csrf-token-example",
            "js-ajax-post-csrf-token-example",
            "cake-post-token-example",
            "cake-ajax-post-csrf-token-example"
        ],
        "body": [
            "// View",
            "<?= \\$this->Form->create('Model', array('id' => 'form_model_add')); ?>",
            "",
            "\\$('#form_model_add').submit(function (e) {",
            "\tvar formData = \\$(this).serialize();",
            "\te.preventDefault();",
            "",
            "\t\\$.ajax({",
            "\t\tmethod: 'POST',",
            "\t\turl: `\\${windowDomain}controller/action_save`,",
            "\t\tdata: formData,",
            "\t\tsuccess: function (_data) {",
            "\t\t\tconsole.log('Form Data', _data);",
            "\t\t},",
            "\t\terror: function (err) {",
            "\t\t\tconsole.log(err);",
            "\t\t}",
            "\t});",
            "\treturn false;",
            "});",
            "",
            "// import do componente secutiry",
            "public \\$components = array('Security');",
            "",
            "// ajustes do before filter para ajax",
            "public function beforeFilter()",
            "{",
            "\tparent::beforeFilter();",
            "\tif (strpos(\\$this->params->action, 'ajax')) {",
            "\t\t\\$this->Security->validatePost = false;",
            "\t\t\\$this->Security->csrfCheck = false;",
            "\t}",
            "}",
            "",
            "// action do controller para tratar os dados que chegar do ajax",
            "// capture apenas os campos que possuem valores setados",
            "public function admin_ajax_new_contact()",
            "{",
            "\t\\$this->autoRender = false;",
            "\tif (\\$this->request->is('ajax')) {",
            "",
            "\t\t\\$values = array('Model' => array());",
            "\t\tforeach (\\$this->request->data['Model'] as \\$key => \\$value) {",
            "\t\t\tif ((\\$value != '') && (\\$key != 'id')) {",
            "\t\t\t\t\\$values['Model']\\[$key] = \\$value;",
            "\t\t\t}",
            "\t\t}",
            "",
            "\t\tif (count(\\$values) > 0) {",
            "\t\t\t\\$this->Model->create();",
            "\t\t\t\\$this->Model->save(\\$values);",
            "\t\t}",
            "",
            "\t\treturn json_encode(array(",
            "\t\t\t'success' => true,",
            "\t\t\t'data' => \\$values,",
            "\t\t));",
            "\t}",
            "}"
        ],
        "description": "Exemplo de uso do CSRF Token com CakePHP e AJAX"
    },
    "DisableSecurityValidation": {
        "prefix": [
            "cake-disable-post-validate",
            "cake-disable-post-security"
        ],
        "body": [
            "${1:<?}// Desabilitando validatePost no before filter",
            "// import do componente secutiry",
            "public \\$components = array('Security');",
            "// inside beforeFilter() {}",
            "if (strpos(\\$this->params->action, 'ajax')) {",
            "\t\\$this->Security->validatePost = false;",
            "\t\\$this->Security->csrfCheck = false;",
            "}"
        ],
        "description": "Exemplo de desabilitar validações de segurança para ação AJAX"
    },
    "JSONDecodeExample": {
        "prefix": [
            "cake-json-to-array",
            "cake-stdclass-to-array",
            "cake-json-decode-to-array"
        ],
        "body": [
            "${1:<?}// use true no json_decode para retornar um array",
            "// false para retornar um stdClass",
            "\\$array = json_decode(\\$jsonString, true);",
            "\\$stdClass = json_decode(\\$jsonString);",
            "\\$array = get_object_vars(\\$stdClass);"
        ],
        "description": "Exemplo de uso do json_decode com true e false"
    },
    "ApiHelperGetList": {
        "prefix": [
            "cake-api-find-all-list",
            "cake-list-find-all",
            "cake-list-find-all-api-helper"
        ],
        "body": [
            "${1:<?}// \\$type = 'all, list, first, count'",
            "// \\$this->Api->find('list', 'Model', \\$fields, \\$conditions, \\$order)",
            "\\$objects = \\$this->Api->find('list', 'Model');"
        ],
        "description": "Exemplo de uso do get lista da api helper"
    },
    "BootstrapAppend": {
        "prefix": [
            "cake-prepend",
            "cake-append"
        ],
        "body": [
            "${1:<?}",
            "<div class=\"input-group\">",
            "    <?= \\$this->Form->input('filter_from_day', array(",
            "        'id' => 'dt_from_day',",
            "        'class' => 'form-control form-control-sm',",
            "        'label' => false,",
            "        'placeholder' => 'Dia/Mês/Ano Hora',",
            "        'div' => false // <--important",
            "    )); ?>",
            "    <div class=\"input-group-append\">",
            "        <div class=\"input-group-text\"><i class=\"zmdi zmdi-calendar\"></i></div>",
            "    </div>",
            "</div>"
        ],
        "description": "Exemplo de uso do get lista da api helper"
    },
    "CheckIfModelExists": {
        "prefix": "cake-model-exists",
        "body": [
            "\\$this->MODEL->id = \\$id;",
            "if (!\\$this->MODEL->exists()) {",
            "\t\\$this->Session->setFlash(__('O MODEL não foi encontrado.'), 'default', array('class' => 'error'));",
            "\treturn;",
            "}"
        ],
        "description": "Verifica se o modelo existe em um controlador do CakePHP"
    },
    "SaveAssociatedExample": {
        "prefix": [
            "cake-save-many",
            "cake-save-child"
        ],
        "body": [
            "$MODELFields = array(",
            "\tarray(",
            "\t\t'title' => 'Panel Title',",
            "\t\t'datasource' => 'internal',",
            "\t\t'user_id' => $this->Auth->user('id'),",
            "\t)",
            ");",
            "$PARENT = $this->PARENT->findById($PARENTId);",
            "$PARENT['MODEL'] = $MODELFields;",
            "$this->PARENT->saveAssociated($PARENT, array('deep' => true));"
        ],
        "description": "Exemplo de uso de saveAssociated em um controlador do CakePHP"
    },
    "PieChart": {
        "prefix": "cake-pie-chart",
        "body": [
            "$data = array(",
            "\t__('Atendidos') => $receiveds['answered'],",
            "\t__('Abandonados') => $receiveds['abandoned'],",
            "\t__('Perdidos') => $lost['metric_lost_contacts_total']",
            ");",
            "",
            "$chartData = array();",
            "if ($data != null) {",
            "\tforeach ($data as $key => $value) {",
            "\t\tif ($key == 'total') {",
            "\t\t\tcontinue;",
            "\t\t}",
            "\t\t$chartData = array_merge($chartData, array(",
            "\t\t\tarray(",
            "\t\t\t\t__($key),",
            "\t\t\t\t(int) $value",
            "\t\t\t)",
            "\t\t));",
            "\t}",
            "}",
            "",
            "$chartName = 'received_contacts';",
            "$chartTitle = __('Contatos Recebidos');",
            "$this->Reports->pie($chartName, $chartTitle, $chartData);",
            "$this->set(compact(",
            "\t'chartName',",
            "\t'chartData',",
            "\t'chartTitle',",
            "\t'dashDashletId'",
            "));"
        ],
        "description": "Processa e prepara dados para um gráfico no CakePHP"
    },
    "LineChart": {
        "prefix": "cake-line-chart",
        "body": [
            "$xSeries = array(",
            "\t'01/01',",
            "\t'01/02',",
            "\t'01/03',",
            ");",
            "",
            "$series = array(",
            "\tarray(",
            "\t\t'name' => 'Último Valor',",
            "\t\t'data' => array(10, 20, 30),",
            "\t\t'color' => '#007bff',",
            "\t\t'type' => 'column',",
            "\t),",
            "\tarray(",
            "\t\t'name' => 'Mínimo Valor',",
            "\t\t'data' => array(5, 2, 8),",
            "\t\t'color' => '#449C44',",
            "\t\t'type' => 'line',",
            "\t),",
            "\tarray(",
            "\t\t'name' => 'Máximo Valor',",
            "\t\t'data' => array(50, 42, 33),",
            "\t\t'color' => '#6610f2',",
            "\t\t'type' => 'spline',",
            "\t),",
            ");",
            "",
            "$this->Reports->line('resource_occupation', 'Ocupação de recursos', $xSeries, $series);"
        ],
        "description": "Gera um gráfico de linha com séries de dados no CakePHP"
    }
}